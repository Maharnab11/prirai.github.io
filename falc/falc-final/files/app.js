"use strict";var baseURL=window.location.href;$(document).ready(function(){$(".bubble, .mobile-popup > .button").on("click",function(e){$(e.currentTarget).toggleClass("open")}),$(".post-preview a.ajax").on("click keypress",function(e){e.preventDefault();var t={action:"get_strategy",id:$(e.currentTarget).data("id")};$(".overlay").fadeIn("fast"),$(".overlay .post-content").html('<center><span class="fas fa-spinner fa-spin"></span></center>'),history.replaceState(null,$(e.currentTarget).text(),$(e.currentTarget).attr("href")),$.post("/wp-admin/admin-ajax.php",t,function(e){$(".overlay .post-content").html(e)})}),$(".overlay .overlay-close").on("click keypress",function(e){e.preventDefault(),history.replaceState(null,null,baseURL),$(".overlay").fadeOut("fast")}),$(".mobile-popup .close_button").on("click keypress",function(e){e.preventDefault(),$(".mobile-popup .button").removeClass("open")}),$(".menu-toggle").on("click keypress",function(e){e.preventDefault(),$(e.currentTarget).find(".fas").toggleClass("fa-times").toggleClass("fa-bars"),$(e.currentTarget).next("nav").slideToggle()}),$("body").on("click keypress","a.copyurl",function(e){e.preventDefault();var t=$("<input>"),s=$(e.currentTarget).data("url");$("body").append(t),t.val(s).select(),document.execCommand("copy"),t.remove(),$("span.copied").hide().text("URL copied to clipboard.").fadeIn().delay(5e3).fadeOut()}),setTimeout(function(){var e=window.performance.timing,t=e.domContentLoadedEventEnd-e.navigationStart;if(t>0){var s=Math.round(t/10)/100+" seconds";$(".carbon-text").html("This page loaded in <strong>"+s+"</strong> and emitted just <strong>0.49g of CO2</strong>")}else $(".carbon-text").html("This page emitted just <strong>0.49g of CO2</strong>")},0),$(".search-filter").on("click",function(e){$(e.currentTarget).toggleClass("open").parent().find("p.category-links").slideToggle()});var t=function(){var e=parseInt($(":root").css("font-size"),10);10===e?($(".accessibility-controls button.reset").attr("disabled","disabled"),$(".accessibility-controls button.increase, .accessibility-controls button.decrease").removeAttr("disabled")):e>11?($(".accessibility-controls button.increase").attr("disabled","disabled"),$(".accessibility-controls button.decrease, .accessibility-controls button.decrease").removeAttr("disabled")):e<9?($(".accessibility-controls button.decrease").attr("disabled","disabled"),$(".accessibility-controls button.increase, .accessibility-controls button.reset").removeAttr("disabled")):$(".accessibility-controls button.increase, .accessibility-controls button.reset, .accessibility-controls button.decrease").removeAttr("disabled")};"on"===Cookies.get("highc")&&$("body").addClass("highc"),"on"===Cookies.get("grayscale")&&$("body").addClass("grayscale"),"on"===Cookies.get("noshapes")&&$("body").addClass("noshapes"),"on"===Cookies.get("darkmode")&&$("body").addClass("darkmode"),Cookies.get("fontsize")&&$(":root").css("font-size",Cookies.get("fontsize")),t(),$(".accessibility-tools > button.accessibility-btn").on("click",function(){$(".accessibility-controls").stop().slideToggle().toggleClass("open"),$(".accessibility-tools > button.accessibility-btn").attr("aria-expanded",$(".accessibility-controls").hasClass("open"))}),$(".accessibility-controls").on("mouseleave",function(){$(".accessibility-controls").stop().removeClass("open").slideUp(),$(".accessibility-tools > button.accessibility-btn").attr("aria-expanded",$(".accessibility-controls").hasClass("open"))}),$(".accessibility-tools > button.accessibility-btn").on("keyup",function(){13===e.which&&($(".accessibility-controls").stop().slideToggle().toggleClass("open"),$(".accessibility-tools > button.accessibility-btn").attr("aria-expanded",$(".accessibility-controls").hasClass("open")))}),$(".accessibility-controls button.reset").on("click",function(){$(":root").css("font-size","10px"),Cookies.set("fontsize","10px",{path:"/",expires:1,secure:!0}),t()}),$(".accessibility-controls button.decrease").on("click",function(){var e=parseInt($(":root").css("font-size"),10);$(":root").css("font-size",e-1+"px"),Cookies.set("fontsize",$(":root").css("font-size"),{path:"/",expires:1,secure:!0}),t()}),$(".accessibility-controls button.increase").on("click",function(){var e=parseInt($(":root").css("font-size"),10);$(":root").css("font-size",e+1+"px"),Cookies.set("fontsize",$(":root").css("font-size"),{path:"/",expires:1,secure:!0}),t()}),$(".accessibility-controls button.contrast").on("click",function(){$("body").toggleClass("highc"),Cookies.set("highc",$("body").hasClass("highc")?"on":"off",{expires:1,path:"/",secure:!0})}),$(".accessibility-controls button.grayscale").on("click",function(){$("body").toggleClass("grayscale"),Cookies.set("grayscale",$("body").hasClass("grayscale")?"on":"off",{expires:1,path:"/",secure:!0})}),$(".accessibility-controls button.noshapes").on("click",function(){$("body").toggleClass("noshapes"),Cookies.set("noshapes",$("body").hasClass("noshapes")?"on":"off",{expires:1,path:"/",secure:!0})}),$(".accessibility-controls button.dark").on("click",function(){$("body").toggleClass("darkmode"),Cookies.set("darkmode",$("body").hasClass("darkmode")?"on":"off",{expires:1,path:"/",secure:!0})})});