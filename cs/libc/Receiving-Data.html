<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This is
The GNU C Library Reference Manual, for version
2.32.

Copyright (C) 1993-2020 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version
1.3 or any later version published by the Free
Software Foundation; with the Invariant Sections being "Free Software
Needs Free Documentation" and "GNU Lesser General Public License",
the Front-Cover texts being "A GNU Manual", and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License".

(a) The FSF's Back-Cover Text is: "You have the freedom to
copy and modify this GNU manual.  Buying copies from the FSF
supports it in developing GNU and promoting software freedom." -->
<!-- Created by GNU Texinfo 6.7, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Receiving Data (The GNU C Library)</title>

<meta name="description" content="Receiving Data (The GNU C Library)">
<meta name="keywords" content="Receiving Data (The GNU C Library)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html" rel="start" title="Top">
<link href="Concept-Index.html" rel="index" title="Concept Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Transferring-Data.html" rel="up" title="Transferring Data">
<link href="Socket-Data-Options.html" rel="next" title="Socket Data Options">
<link href="Sending-Data.html" rel="prev" title="Sending Data">
 <link rel="stylesheet" href="../bookstyle.css" type="text/css"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tonsky/FiraCode@5.2/distr/fira_code.css"> <style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<span id="Receiving-Data"></span><div class="header">
<p>
Next: <a href="Socket-Data-Options.html" accesskey="n" rel="next">Socket Data Options</a>, Previous: <a href="Sending-Data.html" accesskey="p" rel="prev">Sending Data</a>, Up: <a href="Transferring-Data.html" accesskey="u" rel="up">Transferring Data</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Receiving-Data-1"></span><h4 class="subsubsection">16.9.5.2 Receiving Data</h4>

<span id="index-sys_002fsocket_002eh-10"></span>
<p>The <code>recv</code> function is declared in the header file
<samp>sys/socket.h</samp>.  If your <var>flags</var> argument is zero, you can
just as well use <code>read</code> instead of <code>recv</code>; see <a href="I_002fO-Primitives.html">I/O Primitives</a>.
</p>
<dl>
<dt id="index-recv">Function: <em>ssize_t</em> <strong>recv</strong> <em>(int <var>socket</var>, void *<var>buffer</var>, size_t <var>size</var>, int <var>flags</var>)</em></dt>
<dd>
<p>Preliminary:
| MT-Safe 
| AS-Safe 
| AC-Safe 
| See <a href="POSIX-Safety-Concepts.html">POSIX Safety Concepts</a>.
</p>

<p>The <code>recv</code> function is like <code>read</code>, but with the additional
flags <var>flags</var>.  The possible values of <var>flags</var> are described
in <a href="Socket-Data-Options.html">Socket Data Options</a>.
</p>
<p>If nonblocking mode is set for <var>socket</var>, and no data are available to
be read, <code>recv</code> fails immediately rather than waiting.  See <a href="File-Status-Flags.html">File Status Flags</a>, for information about nonblocking mode.
</p>
<p>This function returns the number of bytes received, or <code>-1</code> on failure.
The following <code>errno</code> error conditions are defined for this function:
</p>
<dl compact="compact">
<dt><code>EBADF</code></dt>
<dd><p>The <var>socket</var> argument is not a valid file descriptor.
</p>
</dd>
<dt><code>ENOTSOCK</code></dt>
<dd><p>The descriptor <var>socket</var> is not a socket.
</p>
</dd>
<dt><code>EWOULDBLOCK</code></dt>
<dd><p>Nonblocking mode has been set on the socket, and the read operation
would block.  (Normally, <code>recv</code> blocks until there is input
available to be read.)
</p>
</dd>
<dt><code>EINTR</code></dt>
<dd><p>The operation was interrupted by a signal before any data was read.
See <a href="Interrupted-Primitives.html">Interrupted Primitives</a>.
</p>
</dd>
<dt><code>ENOTCONN</code></dt>
<dd><p>You never connected this socket.
</p></dd>
</dl>

<p>This function is defined as a cancellation point in multi-threaded
programs, so one has to be prepared for this and make sure that
allocated resources (like memory, file descriptors, semaphores or
whatever) are freed even if the thread is canceled.
</p></dd></dl>




</body>
</html>
